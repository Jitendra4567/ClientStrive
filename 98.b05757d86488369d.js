"use strict";(self.webpackChunkClientStrive=self.webpackChunkClientStrive||[]).push([[98],{2098:(v,m,a)=>{a.r(m),a.d(m,{ProjectsModule:()=>C});var i=a(2382),p=a(9808),d=a(459),t=a(1223),u=a(3225),n=a(2425),Z=a(4416);function P(r,l){if(1&r&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&r){const e=l.$implicit;t.Q6J("value",e.empId),t.xp6(1),t.Oqu(e.empName)}}function _(r,l){if(1&r&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&r){const e=l.$implicit;t.Q6J("value",e.clientId),t.xp6(1),t.Oqu(e.companyName)}}let g=(()=>{class r{constructor(e,o,c,s,j,U){this.fb=e,this.projectService=o,this.clientService=c,this.router=s,this.activeRouter=j,this.employeeService=U}ngOnInit(){this.getAllEmployee(),this.getAllClients(),this.addProjectsform=this.fb.group({clientProjectId:0,projectName:[""],startDate:[""],expectedEndDate:[""],leadByEmpId:0,completedDate:[""],contactPerson:[""],contactPersonContactNo:[""],totalEmpWorking:[""],projectCost:[""],projectDetails:[""],contactPersonEmailId:[""],clientId:0}),this.activeRouter.params.subscribe(e=>{this.projectId=e.projectId,this.projectId&&this.projectService.getAllClientProjects().subscribe(o=>{this.allProjects=o.data,this.projectData=this.allProjects.filter(c=>c.clientProjectId===+this.projectId),console.log(this.projectData,"this.projectData"),this.projectData&&this.addProjectsform.patchValue({projectName:this.projectData[0].projectName,startDate:this.projectData[0].startDate,expectedEndDate:this.projectData[0].expectedEndDate,leadByEmpId:this.projectData[0].empId})})})}saveAddProject(){let e=this.addProjectsform.value;console.log(e,"postData"),this.projectService.addUpdateClientProject(e).subscribe(o=>{console.log(o,"res"),this.addProjectsform.reset(),this.router.navigate(["admin/projects"])})}getAllEmployee(){this.employeeService.getAllEmployee().subscribe(e=>{this.allEmployee=e.data})}getAllClients(){this.clientService.getAllClients().subscribe(e=>{this.clients=e.data})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(i.qu),t.Y36(u.m),t.Y36(n.y),t.Y36(d.F0),t.Y36(d.gz),t.Y36(Z.G))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-add-project"]],decls:78,vars:3,consts:[[1,"mb-3"],["routerLink","/admin/projects",1,"btn","btn-primary"],[1,"fa-solid","fa-angle-left","me-1"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-sm-4"],[1,"form-label"],["type","text","formControlName","projectName",1,"form-control"],["type","datetime-local","formControlName","startDate",1,"form-control"],["type","datetime-local","formControlName","expectedEndDate",1,"form-control"],["formControlName","leadByEmpId",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["type","date","formControlName","completedDate",1,"form-control"],["type","text","formControlName","contactPerson",1,"form-control"],["type","text","formControlName","contactPersonContactNo",1,"form-control"],["type","text","formControlName","totalEmpWorking",1,"form-control"],["type","text","formControlName","projectCost",1,"form-control"],["type","text","formControlName","contactPersonEmailId",1,"form-control"],["formControlName","clientId",1,"form-select"],[1,"col-sm-12"],["formControlName","projectDetails","rows","5",1,"form-control"],[1,"card-footer"],[1,"text-end"],[1,"btn","btn-primary",3,"click"],[1,"fa-regular","fa-floppy-disk","me-1"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t._UZ(2,"i",2),t._uU(3," Back "),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"h5"),t._uU(7,"Add Projects"),t.qZA()(),t.TgZ(8,"div",5)(9,"form",6)(10,"div",7)(11,"div",8)(12,"div",0)(13,"label",9),t._uU(14,"Project Name"),t.qZA(),t._UZ(15,"input",10),t.qZA()(),t.TgZ(16,"div",8)(17,"div",0)(18,"label",9),t._uU(19,"Start Date"),t.qZA(),t._UZ(20,"input",11),t.qZA()(),t.TgZ(21,"div",8)(22,"div",0)(23,"label",9),t._uU(24,"Expected End Date"),t.qZA(),t._UZ(25,"input",12),t.qZA()(),t.TgZ(26,"div",8)(27,"div",0)(28,"label",9),t._uU(29,"Project Manager"),t.qZA(),t.TgZ(30,"select",13),t.YNc(31,P,2,2,"option",14),t.qZA()()(),t.TgZ(32,"div",8)(33,"div",0)(34,"label",9),t._uU(35,"Completed Date"),t.qZA(),t._UZ(36,"input",15),t.qZA()(),t.TgZ(37,"div",8)(38,"div",0)(39,"label",9),t._uU(40,"Contact Person"),t.qZA(),t._UZ(41,"input",16),t.qZA()(),t.TgZ(42,"div",8)(43,"div",0)(44,"label",9),t._uU(45,"Contact Person ContactNo"),t.qZA(),t._UZ(46,"input",17),t.qZA()(),t.TgZ(47,"div",8)(48,"div",0)(49,"label",9),t._uU(50,"Total Emp Working"),t.qZA(),t._UZ(51,"input",18),t.qZA()(),t.TgZ(52,"div",8)(53,"div",0)(54,"label",9),t._uU(55,"Project Cost"),t.qZA(),t._UZ(56,"input",19),t.qZA()(),t.TgZ(57,"div",8)(58,"div",0)(59,"label",9),t._uU(60,"Contact Person EmailId"),t.qZA(),t._UZ(61,"input",20),t.qZA()(),t.TgZ(62,"div",8)(63,"div",0)(64,"label",9),t._uU(65,"Client Id"),t.qZA(),t.TgZ(66,"select",21),t.YNc(67,_,2,2,"option",14),t.qZA()()(),t.TgZ(68,"div",22)(69,"div",0)(70,"label",9),t._uU(71,"Project Details"),t.qZA(),t._UZ(72,"textarea",23),t.qZA()()()()(),t.TgZ(73,"div",24)(74,"div",25)(75,"button",26),t.NdJ("click",function(){return o.saveAddProject()}),t._UZ(76,"i",27),t._uU(77," Save "),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.addProjectsform),t.xp6(22),t.Q6J("ngForOf",o.allEmployee),t.xp6(36),t.Q6J("ngForOf",o.clients))},directives:[d.rH,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.EJ,p.sg,i.YN,i.Kr],styles:[""]}),r})();function f(r,l){if(1&r&&(t.TgZ(0,"option",30),t._uU(1),t.qZA()),2&r){const e=l.$implicit;t.Q6J("value",e.empId),t.xp6(1),t.Oqu(e.empName)}}function A(r,l){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td")(24,"button",31),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().viewProjectDetail(s.clientProjectId)}),t._UZ(25,"i",32),t.qZA(),t.TgZ(26,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().updateProjectByProjectId(s.clientProjectId)}),t._UZ(27,"i",34),t.qZA(),t.TgZ(28,"button",35),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().deleteProjectByProjectId(s.clientProjectId)}),t._UZ(29,"i",36),t.qZA()()()}if(2&r){const e=l.$implicit;t.xp6(2),t.Oqu(e.clientProjectId),t.xp6(2),t.Oqu(e.clientName),t.xp6(2),t.Oqu(e.projectName),t.xp6(2),t.Oqu(t.xi3(9,10,e.startDate,"yyyy-MM-dd HH:mm:ss")),t.xp6(3),t.Oqu(t.xi3(12,13,e.expectedEndDate,"yyyy-MM-dd HH:mm:ss")),t.xp6(3),t.Oqu(e.empId),t.xp6(2),t.Oqu(e.empCode),t.xp6(2),t.Oqu(e.empName),t.xp6(2),t.Oqu(e.empEmailId),t.xp6(2),t.Oqu(e.empDesignation)}}const h=[{path:"",component:(()=>{class r{constructor(e,o,c){this.projectService=e,this.router=o,this.employeeService=c,this.allProjectsBackup=[]}ngOnInit(){this.getAllClientProjects(),this.getAllEmployee()}getAllClientProjects(){this.projectService.getAllClientProjects().subscribe(e=>{this.allProjects=e.data,this.allProjectsBackup=[...this.allProjects]})}getAllEmployee(){this.employeeService.getAllEmployee().subscribe(e=>{this.allEmployee=e.data})}filterProjectsByLead(){this.allProjects=[...this.allProjectsBackup],this.selectedProjectLead&&(this.allProjects=this.allProjects.filter(e=>String(e.empId)===String(this.selectedProjectLead)))}deleteProjectByProjectId(e){this.projectService.deleteProjectByProjectId(e).subscribe(o=>{this.getAllClientProjects()})}updateProjectByProjectId(e){this.router.navigate(["admin/projects/add/",e])}viewProjectDetail(e){this.projectService.getProjectByProjectId(e).subscribe(o=>{this.projectDetail=o.data})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(u.m),t.Y36(d.F0),t.Y36(Z.G))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-projects"]],decls:120,vars:11,consts:[[1,"mb-3"],["routerLink","add",1,"btn","btn-primary"],[1,"fa-solid","fa-plus","align-middle","me-1"],[1,"card"],[1,"card-body"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between"],[1,"m-0"],[1,"d-flex","align-items-end"],[2,"width","230px"],[2,"font-size","12px"],[1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","align-middle","text-nowrap"],["scope","col"],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"list-group"],[1,"list-group-item"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-block"],[1,"mb-2"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[3,"value"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary","btn-sm","me-2",3,"click"],[1,"fa-solid","fa-eye"],["disabled","",1,"btn","btn-primary","btn-sm","me-2",3,"click"],[1,"fa-solid","fa-pen"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa-solid","fa-trash"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t._UZ(2,"i",2),t._uU(3," Add Project "),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),t._uU(8,"Project"),t.qZA(),t.TgZ(9,"div")(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13,"Search By Project Lead"),t.qZA(),t.TgZ(14,"select",10),t.NdJ("ngModelChange",function(s){return o.selectedProjectLead=s})("change",function(){return o.filterProjectsByLead()}),t.YNc(15,f,2,2,"option",11),t.qZA()()()()(),t.TgZ(16,"div",12)(17,"table",13)(18,"thead")(19,"tr")(20,"th",14),t._uU(21,"clientProjectId"),t.qZA(),t.TgZ(22,"th",14),t._uU(23,"clientName"),t.qZA(),t.TgZ(24,"th",14),t._uU(25,"projectName"),t.qZA(),t.TgZ(26,"th",14),t._uU(27,"startDate"),t.qZA(),t.TgZ(28,"th",14),t._uU(29,"expectedEndDate"),t.qZA(),t.TgZ(30,"th",14),t._uU(31,"empId"),t.qZA(),t.TgZ(32,"th",14),t._uU(33,"empCode"),t.qZA(),t.TgZ(34,"th",14),t._uU(35,"empName"),t.qZA(),t.TgZ(36,"th",14),t._uU(37,"empEmailId"),t.qZA(),t.TgZ(38,"th",14),t._uU(39,"empDesignation"),t.qZA(),t.TgZ(40,"th",14),t._uU(41,"Action"),t.qZA()()(),t.TgZ(42,"tbody"),t.YNc(43,A,30,16,"tr",15),t.qZA()()()()(),t.TgZ(44,"div",16)(45,"div",17)(46,"div",18)(47,"div",19)(48,"h5",20),t._uU(49,"Project Details"),t.qZA(),t._UZ(50,"button",21),t.qZA(),t.TgZ(51,"div",22)(52,"ul",23)(53,"li",24)(54,"div",25)(55,"div")(56,"span"),t._uU(57,"Project Name"),t.qZA()(),t.TgZ(58,"div")(59,"span"),t._uU(60),t.qZA()()()(),t.TgZ(61,"li",24)(62,"div",25)(63,"div")(64,"span"),t._uU(65,"Contact Person"),t.qZA()(),t.TgZ(66,"div")(67,"span"),t._uU(68),t.qZA()()()(),t.TgZ(69,"li",24)(70,"div",25)(71,"div")(72,"span"),t._uU(73,"Contact Person ContactNo"),t.qZA()(),t.TgZ(74,"div")(75,"span"),t._uU(76),t.qZA()()()(),t.TgZ(77,"li",24)(78,"div",25)(79,"div")(80,"span"),t._uU(81,"Contact Person EmailId"),t.qZA()(),t.TgZ(82,"div")(83,"span"),t._uU(84),t.qZA()()()(),t.TgZ(85,"li",24)(86,"div",25)(87,"div")(88,"span"),t._uU(89,"Completed Date"),t.qZA()(),t.TgZ(90,"div")(91,"span"),t._uU(92),t.qZA()()()(),t.TgZ(93,"li",24)(94,"div",25)(95,"div")(96,"span"),t._uU(97,"Project Cost"),t.qZA()(),t.TgZ(98,"div")(99,"span"),t._uU(100),t.qZA()()()(),t.TgZ(101,"li",24)(102,"div",25)(103,"div")(104,"span"),t._uU(105,"Total Emp Working"),t.qZA()(),t.TgZ(106,"div")(107,"span"),t._uU(108),t.qZA()()()(),t.TgZ(109,"li",24)(110,"div",26)(111,"div",27)(112,"span"),t._uU(113,"Project Details"),t.qZA()(),t.TgZ(114,"div")(115,"span"),t._uU(116),t.qZA()()()()()(),t.TgZ(117,"div",28)(118,"button",29),t._uU(119,"Close"),t.qZA()()()()()),2&e&&(t.xp6(14),t.Q6J("ngModel",o.selectedProjectLead),t.xp6(1),t.Q6J("ngForOf",o.allEmployee),t.xp6(28),t.Q6J("ngForOf",o.allProjects),t.xp6(17),t.Oqu(null==o.projectDetail?null:o.projectDetail.projectName),t.xp6(8),t.Oqu(null==o.projectDetail?null:o.projectDetail.contactPerson),t.xp6(8),t.Oqu(null==o.projectDetail?null:o.projectDetail.contactPersonContactNo),t.xp6(8),t.Oqu(null==o.projectDetail?null:o.projectDetail.contactPersonEmailId),t.xp6(8),t.Oqu(null==o.projectDetail?null:o.projectDetail.completedDate),t.xp6(8),t.Oqu(null==o.projectDetail?null:o.projectDetail.projectCost),t.xp6(8),t.Oqu(null==o.projectDetail?null:o.projectDetail.totalEmpWorking),t.xp6(8),t.Oqu(null==o.projectDetail?null:o.projectDetail.projectDetails))},directives:[d.rH,i.EJ,i.JJ,i.On,p.sg,i.YN,i.Kr],pipes:[p.uU],styles:[""]}),r})()},{path:"add",component:g},{path:"add/:projectId",component:g}];let q=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[d.Bz.forChild(h)],d.Bz]}),r})(),C=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[p.ez,q,i.UX,i.u5]]}),r})()},3225:(v,m,a)=>{a.d(m,{m:()=>d});var i=a(1223),p=a(520);let d=(()=>{class t{constructor(n){this.http=n}getAllClientProjects(){return this.http.get("https://freeapi.miniprojectideas.com/api/ClientStrive/GetAllClientProjects")}addUpdateClientProject(n){return this.http.post("https://freeapi.miniprojectideas.com/api/ClientStrive/AddUpdateClientProject",n)}deleteProjectByProjectId(n){return this.http.delete("https://freeapi.miniprojectideas.com/api/ClientStrive/DeleteProjectByProjectId?projectId="+n)}getProjectByProjectId(n){return this.http.get("https://freeapi.miniprojectideas.com/api/ClientStrive/GetProjectByProjectId?clientProjectId="+n)}}return t.\u0275fac=function(n){return new(n||t)(i.LFG(p.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);